{"title":"js判断是否在可视范围","uid":"c083423f9c1faf2e9f82f25e0d9e1592","slug":"判断是否在可视范围","date":"2022-11-25T10:53:51.000Z","updated":"2023-09-07T13:08:32.605Z","comments":true,"path":"api/articles/判断是否在可视范围.json","keywords":null,"cover":"/medias/13.png","content":"<h2 id=\"js判断是否在可视范围\"><a href=\"#js判断是否在可视范围\" class=\"headerlink\" title=\"js判断是否在可视范围\"></a>js判断是否在可视范围</h2><p>完整代码</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;!DOCTYPE html&gt;\n&lt;html lang&#x3D;&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;edge&quot;&gt;\n    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;\n    &lt;title&gt;Document&lt;&#x2F;title&gt;\n&lt;&#x2F;head&gt;\n&lt;body&gt;\n   &lt;div class&#x3D;&quot;home&quot; style&#x3D;&quot;height:1500px;width:100%;&quot;&gt;\n        &lt;div class&#x3D;&quot;box&quot; id&#x3D;&quot;box&quot; style&#x3D;&quot;height: 200px; width: 500px; background-color: red;margin-top: 50px;float: left;&quot;&gt;\n            \n        &lt;&#x2F;div&gt;\n   &lt;&#x2F;div&gt;\n&lt;&#x2F;body&gt;\n&lt;script&gt;\n    const ele &#x3D; document.getElementById(&#39;box&#39;)\n\n    window.addEventListener(&#39;scroll&#39;,e&#x3D;&gt;&#123;\n        &#x2F;&#x2F; let a &#x3D; isEleVisible1(ele)\n        &#x2F;&#x2F; let b &#x3D; isEleVisible2(ele)\n        let c &#x3D; isEleVisible3(ele)\n        &#x2F;&#x2F; console.log(c);\n        &#x2F;&#x2F; console.log(a);\n        &#x2F;&#x2F; console.log(b);\n    &#125;)\n\n    &#x2F;&#x2F; 第一种 使用getBoundingClientRect()方法 \n    function isEleVisible1(ele)&#123;\n    var &#123;top, right, bottom, left&#125; &#x3D; ele.getBoundingClientRect()\n    var w &#x3D; window.innerWidth\n    var h &#x3D; window.innerHeight\n    if(bottom &lt; 0 || top &gt; h)&#123;\n        &#x2F;&#x2F; y 轴方向\n        return false\n    &#125;\n    if(right &lt; 0 || left &gt; w)&#123;\n        &#x2F;&#x2F; x 轴方向\n        return false\n    &#125;\n\n    return true\n&#125;\n    &#x2F;&#x2F;第二种使用原生方法\n    function isEleVisible2(ele)&#123;\n        &#x2F;&#x2F;元素距离顶部的距离\n        let top &#x3D; ele.offsetTop\n        &#x2F;&#x2F;滚动条距离顶部距离\n        let sorlltop &#x3D; document.documentElement.scrollTop || document.body.scrollTop;\n        &#x2F;&#x2F;元素的高度\n        let elementHeight &#x3D; ele.offsetHeight;\n\n        &#x2F;&#x2F;滚动条减去元素高度减去元素距离顶部高度小于0时 就是可视区域\n        if(sorlltop-elementHeight-top &lt; 0)&#123;\n            return true\n        &#125;else&#123;\n            return false\n        &#125;\n        \n    &#125;\n\n    &#x2F;&#x2F;第三种 使用IntersectionObserver\n    function isEleVisible3(ele)&#123;\n        const observer &#x3D; new IntersectionObserver(\n            ([entry]) &#x3D;&gt; &#123;\n                if(entry.isIntersecting)&#123;\n                    console.log(&#39;在&#39;);\n                &#125;else&#123;\n                    console.log(&#39;不在&#39;);\n                &#125;\n            &#125;,\n            &#123;\n                root:null,\n                rootMargin: &#39;0px&#39;,\n                threshold: 0,\n            &#125;\n        );\n        observer.observe(ele)\n        \n    &#125;\n&lt;&#x2F;script&gt;\n&lt;&#x2F;html&gt;</code></pre>\n\n","text":"js判断是否在可视范围完整代码 &lt;!DOCTYPE html&gt; &lt;html lang&#x3D;&quot;en&quot;&gt; &lt;...","link":"","photos":[],"count_time":{"symbolsCount":"2.8k","symbolsTime":"3 mins."},"categories":[{"name":"技术","slug":"技术","count":4,"path":"api/categories/技术.json"}],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#js%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%9C%A8%E5%8F%AF%E8%A7%86%E8%8C%83%E5%9B%B4\"><span class=\"toc-text\">js判断是否在可视范围</span></a></li></ol>","author":{"name":"假面骑士投","slug":"blog-author","avatar":"https://img2.baidu.com/it/u=784587947,3577862210&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500","link":"/","description":"一个路过的假面骑士罢了","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"减脂指南","uid":"4a088409b555ba0e65cf89101348b139","slug":"减脂科普","date":"2022-11-25T10:53:51.000Z","updated":"2023-09-06T08:43:06.799Z","comments":true,"path":"api/articles/减脂科普.json","keywords":null,"cover":"/medias/8.png","text":"减脂科普 1.在减脂人眼中食物的分类​ 在讲如何减脂之前，我们首先就需要了解各种食物的热量以及各种食物代表了什么。 ​ 我把食物分成了三大类 在我眼中食物只有三...","link":"","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"生活","slug":"生活","count":1,"path":"api/categories/生活.json"}],"tags":[],"author":{"name":"假面骑士投","slug":"blog-author","avatar":"https://img2.baidu.com/it/u=784587947,3577862210&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500","link":"/","description":"一个路过的假面骑士罢了","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"js排序","uid":"bd5a890e9dbc9ca0b4d22870a7589cb4","slug":"排序","date":"2022-11-25T10:53:51.000Z","updated":"2023-09-07T13:06:26.452Z","comments":true,"path":"api/articles/排序.json","keywords":null,"cover":"/medias/5.png","text":"js排序&#x2F;&#x2F;冒泡排序 function bubbleSort(arr) &#123; var len &#x3D; arr.length; ...","link":"","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"技术","slug":"技术","count":4,"path":"api/categories/技术.json"}],"tags":[],"author":{"name":"假面骑士投","slug":"blog-author","avatar":"https://img2.baidu.com/it/u=784587947,3577862210&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500","link":"/","description":"一个路过的假面骑士罢了","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}